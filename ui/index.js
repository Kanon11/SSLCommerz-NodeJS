import tingle from "tingle.js"; export const loadEasyCheckout=(e,t=!1,o=!1)=>{const l=e.url,a=e.logo;window.addEventListener("message",e=>{if(void 0!==e.data){let a={};try{a=JSON.parse(e.data)}catch(e){}if(a&&void 0!==a.status&&"success"===a.status){if(void 0!==a.url&&(-1!==a.url.indexOf("http")?window.location.href=a.url:(a=JSON.parse(a.data),document.write(a.data.url))),void 0!==a.type&&("redirect"!==a.type&&"gw_redirect"!==a.type||(window.location.href=a.url)),void 0!==a.type)if("otp"===a.type){try{n.close(),t?(document.open(),document.write(a.data)):(a=JSON.parse(a.data),document.write(a.data.url))}catch(e){document.write(a.data)}document.close()}else o&&(window.location.href=l);void 0!==a.type&&"resize"===a.type&&void 0!==a.height&&a.height>100&&(o?r.style.minHeight=window.outerHeight-100+"px":r.height=a.height)}}},!1);const n=new tingle.modal({footer:!0,stickyFooter:!1,closeMethods:["button"],closeLabel:"Close",cssClass:["custom-class-1","custom-class-2"],onOpen:()=>{},onClose:()=>{},beforeClose:()=>!0}),s=document.createElement("div"),i=document.createElement("div"),c=document.createElement("div");i.className="client_logo",c.className="client_logo_inner";const d=document.createElement("div");d.setAttribute("class","iframeWrap");const r=document.createElement("iframe");r.src=l+"?full=1",r.name="frame",r.setAttribute("allowFullScreen",""),r.allowFullScreen=!0,r.width=340,r.setAttribute("frameborder","0"),r.scrolling="no",r.allowtransparency=!0,r.seamless=!0,d.appendChild(r);const m=document.createElement("img");m.setAttribute("src",a),m.setAttribute("alt","Logo"),c.appendChild(m),i.appendChild(c),s.appendChild(i),s.appendChild(d),n.setContent(s),n.addFooterBtn("&times;","tingle-modal__close",()=>{n.close()}),n.open()};
